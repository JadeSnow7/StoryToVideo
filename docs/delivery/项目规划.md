# 项目规划（飞书交付稿）

## 1. 模块负责人
- **客户端（Qt/QML）**：负责人 A（UI、状态管理、播放器与导出）。
- **服务端（Django/DRF）**：负责人 B（API、鉴权、任务队列、Webhook）。
- **模型节点（FastAPI + 模型调度）**：负责人 C（LLM/SD/SVD/TTS 接入、FRP 配置）。
- **运维与交付**：负责人 D（部署、监控、日志、CI/CD）。
- **产品/设计**：负责人 E（需求收敛、交互验收、文档）。

> 【图示占位】团队分工与责任矩阵（RACI）。

## 2. 周迭代计划（以发布日为 12.05 为例）
- **Week 1（11.17-11.23）**
  - 客户端：完成页面框架与导航、故事输入与风格选择，打通“新建→分镜列表”接口。
  - 服务端：Project/Shot 数据模型、`/projects/create` 与 `/projects/{id}/storyboard` 接口；任务队列雏形。
  - 模型节点：LLM 分镜接口雏形（Mock 数据亦可），FRP 隧道打通自测。
  - 运维：基础环境搭建（Nginx+Gunicorn、PostgreSQL、Redis）。

- **Week 2（11.24-11.30）**
  - 客户端：分镜卡片状态渲染，详情页编辑与单卡生成；批量“生成全部”流程；预览播放器初版。
  - 服务端：`/shots/{id}/generate_image`、`/tasks/{task_id}/status`、Webhook 回写；任务超时/重试策略。
  - 模型节点：SD Turbo 接入并上传 OSS；返回 URL；提供降级 Mock。
  - 运维：域名/HTTPS、日志和基础监控；测试环境部署并联调。

- **Week 3（12.01-12.04）**
  - 客户端：导出流程与错误态完善；键盘可用性、空态、Toast/Loading 规范；断线重连与轮询兜底。
  - 服务端：`/shots/{id}/generate_video`（可选）、合成流水线、资源签名；异常链路补齐（重试/回滚）。
  - 模型节点：SVD Img2Vid（如可用）与 TTS 接入；性能压测与缓存；多模型健康检查。
  - 运维：Prometheus/Grafana 指标、Sentry 接入、备份策略；发布流程与回滚预案。

- **Week 4（12.05 发布周）**
  - 验收：全链路走查（新建→生成→预览→导出）；故障演练（模型不可用、任务超时、网络断线）。
  - 交付：整理飞书文档、录屏 Demo、发布包签名；准备回滚与应急联系人列表。

> 【图示占位】甘特图/周迭代里程碑示意。

## 3. 里程碑与验收
- **11.23**：创建项目→返回分镜列表打通；UI 主框架可交互。
- **11.30**：分镜生成/详情编辑/预览可用；TTS 接通；端到端流程跑通。
- **12.02**：错误态、加载态、重试机制、导出稳定；自动化回归脚本雏形。
- **12.04**：文档/PPT/录屏完成，准备发布；12.05 正式发布。

> 【图示占位】里程碑节点与完成状态可视化。

## 4. 风险与应对
- **算力不足**：预留云端备份模型或降级 Mock；任务队列限流保护。
- **进度延误**：每日站会跟踪燃尽图，关键路径（生成/导出）优先；必要时裁剪 I2V 功能。
- **依赖不确定**：OSS/CDN、FRP 线路提前联调，准备备选供应商；接口加超时与重试。

> 【图示占位】风险雷达图/应对卡片。
